---
import Layout from "../components/Layout.astro";
import type { ProductCategory } from "../types";

const response = await fetch('http://localhost:3000/api/category');
const category = await response?.json();
const categoryFilter = category.filter((c: ProductCategory) => c.parentId === null)
---

	<Layout title="ICB" description='Página de inicio'>
		<div class="bg-white">
			<!--
				Mobile menu
		
				Off-canvas menu for mobile, show/hide based on off-canvas menu state.
			-->
			<div class="relative z-40 lg:hidden" role="dialog" aria-modal="true">
				<!--
					Off-canvas menu backdrop, show/hide based on off-canvas menu state.
		
					Entering: "transition-opacity ease-linear duration-300"
						From: "opacity-0"
						To: "opacity-100"
					Leaving: "transition-opacity ease-linear duration-300"
						From: "opacity-100"
						To: "opacity-0"
				-->
				{categoryFilter}
				<div class="fixed inset-0 bg-black bg-opacity-25"></div>
		
				<div class="fixed inset-0 z-40 flex">
					<!--
						Off-canvas menu, show/hide based on off-canvas menu state.
		
						Entering: "transition ease-in-out duration-300 transform"
							From: "-translate-x-full"
							To: "translate-x-0"
						Leaving: "transition ease-in-out duration-300 transform"
							From: "translate-x-0"
							To: "-translate-x-full"
					-->
					<div class="relative flex w-full max-w-xs flex-col overflow-y-auto bg-white pb-12 shadow-xl">
						<div class="flex px-4 pb-2 pt-5">
							<button type="button" class="-m-2 inline-flex items-center justify-center rounded-md p-2 text-gray-400">
								<span class="sr-only">Close menu</span>
								<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
									<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
								</svg>
							</button>
						</div>
		
						<!-- Links -->
		
						<div class="space-y-6 border-t border-gray-200 px-4 py-6">
							<div class="flow-root">
								<a href="#" class="-m-2 block p-2 font-medium text-gray-900">Company</a>
							</div>
							<div class="flow-root">
								<a href="#" class="-m-2 block p-2 font-medium text-gray-900">Stores</a>
							</div>
						</div>
		
						<div class="space-y-6 border-t border-gray-200 px-4 py-6">
							<div class="flow-root">
								<a href="#" class="-m-2 block p-2 font-medium text-gray-900">Create an account</a>
							</div>
							<div class="flow-root">
								<a href="#" class="-m-2 block p-2 font-medium text-gray-900">Sign in</a>
							</div>
						</div>
		
						<div class="space-y-6 border-t border-gray-200 px-4 py-6">
							<!-- Currency selector -->

						</div>
					</div>
				</div>
			</div>
		
			

			<!-- Hero section -->
			<div class="relative rounded-lg mt-8 bg-white">
				<!-- Decorative image and overlay -->
				<!-- <div aria-hidden="true" class="absolute inset-0 overflow-hidden">
					<img src="https://tailwindui.com/img/ecommerce-images/home-page-01-hero-full-width.jpg" alt="" class="h-full w-full object-cover object-center">
				</div>
				<div aria-hidden="true" class="absolute inset-0 bg-gray-900 opacity-50"></div> -->
		
				<!-- Navigation -->
				
			<div id="animation-carousel" class="relative w-full" data-carousel="static">
				<!-- Carousel wrapper -->
				<div class="relative h-56 overflow-hidden rounded-lg md:h-[485px]">
						 <!-- Item 1 -->
						<div class="hidden duration-200 ease-linear" data-carousel-item>
								<img src="/img/Ofertas-Web-Abril-2023-Autoclave-1.jpg" class="absolute block w-full  -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
						</div>
						<!-- Item 2 -->
						<div class="hidden duration-200 ease-linear" data-carousel-item>
								<img src="/img/Ofertas-Web-Abril-2023-Centrífuga-FUGE-I.jpg" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
						</div>
						<!-- Item 3 -->
						<div class="hidden duration-200 ease-linear" data-carousel-item="active">
								<img src="/img/Ofertas-Web-Abril-2023-Microscopios-1.jpg" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
						</div>
						<!-- Item 4 -->
						<div class="hidden duration-200 ease-linear" data-carousel-item>
								<img src="/img/Ofertas-Web-Abril-2023-Microscopios-2.jpg" class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2" alt="...">
						</div>
				</div>
				<!-- Slider controls -->
				<button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
						<span class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-gray-300 dark:bg-gray-800/30 group-hover:bg-gray-200 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
								<svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
								<span class="sr-only">Previous</span>
						</span>
				</button>
				<button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
						<span class="inline-flex items-center justify-center w-8 h-8 rounded-full sm:w-10 sm:h-10 bg-gray-300 dark:bg-gray-800/30 group-hover:bg-gray-200 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none">
								<svg aria-hidden="true" class="w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
								<span class="sr-only">Next</span>
						</span>
				</button>
		</div>
			</div>


		
			<main>
				<!-- Category section -->
				<section aria-labelledby="category-heading" class="pt-24 sm:pt-32 xl:mx-auto xl:max-w-7xl xl:px-8">
					<div class="px-4 sm:flex sm:items-center sm:justify-between sm:px-6 lg:px-8 xl:px-0">
						<h2 id="category-heading" class="text-2xl font-bold tracking-tight text-gray-900">Comprar por Categoría</h2>
						<a href="#" class="hidden text-sm font-semibold text-indigo-600 hover:text-indigo-500 sm:block">
							Buscar en categorías
							<span aria-hidden="true"> &rarr;</span>
						</a>
					</div>
		
					<div class="mt-4 flow-root">
						<div class="-my-2">
							<div class="relative box-content h-80 overflow-x-auto py-2 xl:overflow-visible">
								<div class="min-w-screen-xl absolute flex space-x-8 px-4 sm:px-6 lg:px-8 xl:relative xl:grid xl:grid-cols-5 xl:gap-x-8 xl:space-x-0 xl:px-0">
									{categoryFilter.slice(0, 5).map((category: ProductCategory) => (		
										<a href="#" class="relative flex h-80 w-56 flex-col overflow-hidden rounded-lg p-6 hover:opacity-75 xl:w-auto">
											<span aria-hidden="true" class="absolute inset-0">
											{category && <img 
											src={`https://d26xfdx1w8q2y3.cloudfront.net/${category.Product?.[1].image.path}/${category.Product?.[1].image.original}`}
											alt="" class="h-full w-full object-cover object-center"/>}
										</span>
											<span aria-hidden="true" class="absolute inset-x-0 bottom-0 h-2/3 bg-gradient-to-t from-gray-800 opacity-50"></span>
											<span class="relative mt-auto text-center text-xl font-bold text-white">{category.name}</span>
										</a>
									))}
								</div>
							</div>
						</div>
					</div>
		
					<div class="mt-6 px-4 sm:hidden">
						<a href="#" class="block text-sm font-semibold text-indigo-600 hover:text-indigo-500">
							Browse all categories
							<span aria-hidden="true"> &rarr;</span>
						</a>
					</div>
				</section>
		
				<!-- Featured section -->
				<section aria-labelledby="social-impact-heading" class="mx-auto max-w-7xl px-4 pt-24 sm:px-6 sm:pt-32 lg:px-8">
					<div class="relative overflow-hidden rounded-lg">
						<div class="absolute inset-0">
							<img src="/img/portada_facebook_sin-logo.jpg" alt="" class="h-full w-full object-cover object-center">
						</div>
						<div class="relative bg-gray-900 bg-opacity-50 px-6 py-32 sm:px-12 sm:py-40 lg:px-16">
							<div class="relative mx-auto flex max-w-3xl flex-col items-center text-center">
								<h2 id="social-impact-heading" class="text-3xl font-bold tracking-tight text-white sm:text-4xl">
									<!-- <span class="block sm:inline">your desk</span>
									<span class="block sm:inline">Level up</span> -->
									<img src='/img/ICB-Logo-01-1.png' class="h-44 block" >
								</h2>
								<p class="mt-3 text-xl text-white">Especialistas en equipo para laboratorios de análisis clínicos y de investigación.</p>
								<a href="#" class="mt-8 block w-full rounded-md border border-transparent bg-white px-8 py-3 text-base font-medium text-gray-900 hover:bg-gray-100 sm:w-auto">Vea nuestros productos</a>
							</div>
						</div>
					</div>
				</section>
		
				<!-- Collection section -->
				<section aria-labelledby="collection-heading" class="mx-auto max-w-xl px-4 pt-24 sm:px-6 sm:pt-32 lg:max-w-7xl lg:px-8">
					<h2 id="collection-heading" class="text-2xl font-bold tracking-tight text-gray-900">Shop by Collection</h2>
					<p class="mt-4 text-base text-gray-500">Each season, we collaborate with world-class designers to create a collection inspired by the natural world.</p>
		
					<div class="mt-10 space-y-12 lg:grid lg:grid-cols-3 lg:gap-x-8 lg:space-y-0">
						<a href="#" class="group block">
							<div aria-hidden="true" class="aspect-h-2 aspect-w-3 overflow-hidden rounded-lg lg:aspect-h-6 lg:aspect-w-5 group-hover:opacity-75">
								<img src="https://tailwindui.com/img/ecommerce-images/home-page-01-collection-01.jpg" alt="Brown leather key ring with brass metal loops and rivets on wood table." class="h-full w-full object-cover object-center">
							</div>
							<h3 class="mt-4 text-base font-semibold text-gray-900">Handcrafted Collection</h3>
							<p class="mt-2 text-sm text-gray-500">Keep your phone, keys, and wallet together, so you can lose everything at once.</p>
						</a>
						<a href="#" class="group block">
							<div aria-hidden="true" class="aspect-h-2 aspect-w-3 overflow-hidden rounded-lg lg:aspect-h-6 lg:aspect-w-5 group-hover:opacity-75">
								<img src="https://tailwindui.com/img/ecommerce-images/home-page-01-collection-02.jpg" alt="Natural leather mouse pad on white desk next to porcelain mug and keyboard." class="h-full w-full object-cover object-center">
							</div>
							<h3 class="mt-4 text-base font-semibold text-gray-900">Organized Desk Collection</h3>
							<p class="mt-2 text-sm text-gray-500">The rest of the house will still be a mess, but your desk will look great.</p>
						</a>
						<a href="#" class="group block">
							<div aria-hidden="true" class="aspect-h-2 aspect-w-3 overflow-hidden rounded-lg lg:aspect-h-6 lg:aspect-w-5 group-hover:opacity-75">
								<img src="https://tailwindui.com/img/ecommerce-images/home-page-01-collection-03.jpg" alt="Person placing task list card into walnut card holder next to felt carrying case on leather desk pad." class="h-full w-full object-cover object-center">
							</div>
							<h3 class="mt-4 text-base font-semibold text-gray-900">Focus Collection</h3>
							<p class="mt-2 text-sm text-gray-500">Be more productive than enterprise project managers with a single piece of paper.</p>
						</a>
					</div>
				</section>
		
				<!-- Featured section -->
				<section aria-labelledby="comfort-heading" class="mx-auto max-w-7xl px-4 py-24 sm:px-6 sm:py-32 lg:px-8">
					<div class="relative overflow-hidden rounded-lg">
						<div class="absolute inset-0">
							<img src="https://tailwindui.com/img/ecommerce-images/home-page-01-feature-section-02.jpg" alt="" class="h-full w-full object-cover object-center">
						</div>
						<div class="relative bg-gray-900 bg-opacity-75 px-6 py-32 sm:px-12 sm:py-40 lg:px-16">
							<div class="relative mx-auto flex max-w-3xl flex-col items-center text-center">
								<h2 id="comfort-heading" class="text-3xl font-bold tracking-tight text-white sm:text-4xl">Simple productivity</h2>
								<p class="mt-3 text-xl text-white">Endless tasks, limited hours, a single piece of paper. Not really a haiku, but we're doing our best here. No kanban boards, burndown charts, or tangled flowcharts with our Focus system. Just the undeniable urge to fill empty circles.</p>
								<a href="#" class="mt-8 block w-full rounded-md border border-transparent bg-white px-8 py-3 text-base font-medium text-gray-900 hover:bg-gray-100 sm:w-auto">Shop Focus</a>
							</div>
						</div>
					</div>
				</section>
			</main>
		</div>
	</Layout>
